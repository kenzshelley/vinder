{
  "name": "s3-upload",
  "version": "0.0.1",
  "description": "Allows you to upload static files to S3 buckets.",
  "main": "main.js",
  "bin": {
    "s3-upload": "./bin/s3-upload.js"
  },
  "scripts": {
    "test": "make test"
  },
  "repository": {
    "type": "git",
    "url": "git://github.com/jamestalmage/s3-static-site-uploader.git"
  },
  "keywords": [
    "Amazon",
    "S3",
    "Node",
    "Upload",
    "Static"
  ],
  "author": {
    "name": "James Talmage"
  },
  "license": "MIT",
  "bugs": {
    "url": "https://github.com/jamestalmage/s3-static-site-uploader/issues"
  },
  "dependencies": {
    "aws-sdk": "~1.3.1",
    "q": "~0.9.6",
    "crypto": "0.0.3",
    "mime": "~1.2.9",
    "glob": "~3.2.1"
  },
  "devDependencies": {
    "sinon-chai": "~2.4.0",
    "chai": "~1.7.1",
    "sinon": "~1.7.3",
    "promise-testing": "git+ssh://git@git.jrtechnical.com:promise-testing",
    "chai-things": "~0.2.0"
  },
  "readme": "Deploy static sites to Amazon S3 using Node!\n--------------------------------------------\n\n* Uploads are fast (only changed files are sent).\n* Old files (or files that no longer match the set of patterns) are deleted. Easily remove accidental uploads by simply changing the configuration and redeploying.\n* Configuration uses Ant Glob syntax. Easy to understand and update.  \n\n```javascript\nmodule.exports = {\n\tcredentials:\"aws-credentials.json\",\n\tbucketName:\"example.com\",\n\tpatterns:[\n\t\t\"scripts/*.js\",\n\t\t\"stylesheets/default.css\",\n\t\t\"images/**/*.jpg\",\n\t\t\"index.html\"\n\t]\n}\n```\n\nInstall via npm: `npm install -g s3-upload`\n\nS3 Bucket Setup\n===============\n\nCreate a bucket \n---------------\n\nLog into your [AWS S3 console](https://console.aws.amazon.com) and create a new bucket for your site.\n\nBucket names must conform with DNS requirements:\n\n* **Should not contain uppercase characters**\n* Should not contain underscores\n* Should be between 3 and 63 characters long\n* Should not end with a dash\n* Cannot contain two, adjacent periods\n* Cannot contain dashes next to periods (e.g., \"my-.bucket.com\" and \"my.-bucket\" are invalid)\n\n\nConfigure the Bucket Static Website Hosting\n-------------------------------------------\n\nOnce the bucket is created, select it and choose `Properties > Static Website Hosting`. \n\nChoose proper values for the `Index Document` and `Error Document` fields (i.e. **index.html** and **404.html**). \n\nThe Index Document is searched for relative to the requested folder: [http://my.aws.site.com/some/subfolder/]() **becomes** [http://my.aws.site.com/some/subfolder/**index.html**]().\n\t\nThe Error Document path is always relative to the root of the site. All errors are redirected to [http://my.aws.site.com/**404.html**](). \n\n\nConfigure a Public Readable Policy for the Bucket\n-------------------------------------------------\n\nStatic sites hosted on S3 do not support private files (password protection, etc). You must make all files publicly accessible. From your buckets `Properties` page, choose `Permissions > Edit/Add bucket policy`. Copy and past the policy below (replace **YOUR-BUCKET-NAME** for the bucketName you created previously)\n\n```json\n{\n\t\"Version\": \"2008-10-17\",\n\t\"Statement\": [\n\t\t{\n\t\t\t\"Sid\": \"PublicReadForGetBucketObjects\",\n\t\t\t\"Effect\": \"Allow\",\n\t\t\t\"Principal\": {\n\t\t\t\t\"AWS\": \"*\"\n\t\t\t},\n\t\t\t\"Action\": \"s3:GetObject\",\n\t\t\t\"Resource\": \"arn:aws:s3:::YOUR-BUCKET-NAME/*\"\n\t\t}\n\t]\n}\n```\n\nS3 User Setup\n=============\n\nLog into your [AWS Console](https://console.aws.amazon.com/iam/?#users) and go to the [Users](https://console.aws.amazon.com/iam/?#users) management console. Click the `Create New Users` button and enter a username. \n\nCredentials File\n----------------\n\nHave AWS create a new key pair for the user and copy the contents into a `aws-credentials.json` file in the root directory of your project. You should add this file to `.gitignore` (or similar) so that credentials are not checked into version control.\n\n```json\n{ \n\t\"accessKeyId\": \"PUBLIC_KEY\", \n\t\"secretAccessKey\": \"SECRET_KEY\", \n\t\"region\": \"us-west-2\" \n}\n```\n\nUser Permissions\n----------------\n\nFrom the [AWS IAM Users Console](https://console.aws.amazon.com/iam/?#users) select the newly created user, then the `Permissions` Tab, then click the `Attach User Policy` button.  Paste in the following (substituting BUCKET-NAME as appropriate).\n\n```json\n{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Action\": [\n        \"s3:DeleteObject\",\n        \"s3:PutObject\",\n        \"s3:ListBucket\"\n      ],\n      \"Sid\": \"AllowNewUserAccessToMyBucket\",\n      \"Resource\": [\n        \"arn:aws:s3:::BUCKET-NAME\",\n\t\t\"arn:aws:s3:::BUCKET-NAME/*\"\n      ],\n      \"Effect\": \"Allow\"\n    }\n  ]\n}\n```\n\nCreate Config\n=============\n\nCreate a file called `aws-upload.conf.js` in the root directory of your project and copy and paste in the code below. Modify `bucketName` and the `patterns` array as appropriate for your project. All patterns are evaluated with the current directory as root, and the bucket directory structure will mirror the local one.\n\n```javascript\nmodule.exports = {\n\tcredentials:\"aws-credentials.json\",\n\tbucketName:\"example.com\",\n\tpatterns:[\n\t\t\"scripts/*.js\",\n\t\t\"stylesheets/default.css\",\n\t\t\"images/**/*.jpg\",\n\t\t\"index.html\"\n\t]\n}\n```\n\nUpload!\n=======\n\nSimply call `s3-upload` from the same directory as your config file, and the upload will happen.",
  "readmeFilename": "README.md",
  "_id": "s3-upload@0.0.1",
  "dist": {
    "shasum": "393ac9e5f0ab03f95ff7ce6dd31738f99722fbd6",
    "tarball": "http://registry.npmjs.org/s3-upload/-/s3-upload-0.0.1.tgz"
  },
  "_from": "s3-upload@*",
  "_npmVersion": "1.2.32",
  "_npmUser": {
    "name": "james.talmage",
    "email": "james.talmage@jrtechnical.com"
  },
  "maintainers": [
    {
      "name": "james.talmage",
      "email": "james.talmage@jrtechnical.com"
    }
  ],
  "directories": {},
  "_shasum": "393ac9e5f0ab03f95ff7ce6dd31738f99722fbd6",
  "_resolved": "https://registry.npmjs.org/s3-upload/-/s3-upload-0.0.1.tgz",
  "homepage": "https://github.com/jamestalmage/s3-static-site-uploader"
}
